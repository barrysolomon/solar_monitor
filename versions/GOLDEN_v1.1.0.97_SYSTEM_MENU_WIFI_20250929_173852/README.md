# Solar Monitor v1.0.0.36+ - SunPower Monitoring System 🏆

**🌞 Complete Local Solar Monitoring Solution - PRODUCTION READY!**

**Author:** Barry Solomon  
**Email:** barry@testingalchemy.com  
**License:** MIT License

A professional, feature-complete solar monitoring system for SunPower installations. Replace expensive cloud services with your own local dashboard. Features real-time charts, comprehensive analytics, system management, and modern web interface. No monthly fees, complete data ownership, works offline.

## 📸 **Live Dashboard Preview**

![Solar Monitor Dashboard](screenshots/dashboard-main.png)
*Real-time solar monitoring dashboard showing 2.71 kW production, 0.35 kW home usage, and 2.37 kW grid export with all 21 devices online*

**What you're seeing:**
- **🌞 Solar Production**: 2.71 kW currently being generated by your panels
- **🏠 Home Usage**: 0.35 kW being consumed by your home right now  
- **⚡ Grid Power**: 2.37 kW being exported back to the grid (earning you money!)
- **📊 Device Status**: All 21 devices online (18 inverters + 3 monitoring devices)
- **📈 Performance Data**: Peak production of 6.28 kW, daily averages, and comprehensive analytics

This is your system working perfectly - generating clean energy, powering your home, and selling excess back to the utility company!

### **📊 Advanced Analytics Dashboard**

![Analytics Dashboard](screenshots/analytics-charts.png)
*Interactive power flow analysis with customizable time periods and chart types*

**Advanced Analytics Features:**
- **📈 Interactive Charts**: Real-time power flow visualization with production (green), consumption (red), and grid export/import (blue)
- **⏱️ Flexible Time Periods**: Last hour, 4 hours, 24 hours, 7 days, or 30 days
- **📊 Multiple Chart Types**: Line charts, area charts, and bar charts
- **🔍 Detailed Analysis**: Minute-by-minute data resolution for precise monitoring
- **📱 Responsive Design**: Full-screen mode and adjustable chart heights

### **🔌 Professional API Documentation**

![API Documentation](screenshots/api-explorer.png)
*Interactive API explorer with live testing capabilities*

**Developer-Friendly API:**
- **🛠️ Interactive Testing**: Test all endpoints directly in the browser
- **📚 Complete Documentation**: Detailed parameter descriptions and example responses
- **🌐 RESTful Design**: Standard HTTP methods with JSON responses
- **🔗 Direct PVS6 Access**: Connect directly to your SunPower gateway
- **⚡ Real-Time Data**: Live system status, device information, and historical data

## ✨ Features (v1.0.0 - Production Release)

### 🎨 **Modern Web Interface**
- **Card-Based Layout**: Clean, organized design throughout all pages
- **Responsive Design**: Works on desktop, tablet, and mobile devices
- **Real-Time Status Indicators**: PVS6, Collector, and Database status in menu bar
- **Smooth Transitions**: Enhanced user experience with modern animations
- **Clean Navigation**: Intuitive 6-page structure (Overview, Inverters, Analytics, Data, System, Help)
- **Comprehensive Help System**: Built-in documentation for all features and troubleshooting

### 📊 **Comprehensive Performance Analytics**
- **Interactive Charts**: Chart.js integration with multiple time periods (1h, 4h, 24h, 7d, 30d)
- **Performance Summary**: Total production, consumption, net export with time period selector
- **Peak Performance Tracking**: Production, consumption, and export peaks with timestamps
- **Daily Averages**: Comprehensive statistics for any time period
- **Import/Export Analysis**: Charts show negative values for grid import

### ⚡ **Professional Inverter Monitoring**
- **18 Inverter Dashboard**: Individual status cards for all inverters
- **Summary Statistics**: Total power, online count, average efficiency
- **Auto-Loading Data**: Inverters load automatically on page access
- **Real-Time Updates**: Live power output and efficiency monitoring
- **Quick Actions**: Export data, run diagnostics, toggle auto-refresh

### 🗃️ **Data Management** (Data Mgmt Page)
- **Complete SQL Query Interface**: Full SQL editor with AG-Grid results display and chart visualization
- **Table Browser**: Filter by time range and device type with sortable columns
- **Template Queries**: Pre-built queries for common analyses (Recent Production, Device Summary, etc.)
- **Export Capabilities**: CSV and JSON downloads for all query results
- **Chart Integration**: Visualize SQL query results as interactive charts

### ⚙️ **Enhanced System Management** (System Page)
- **System Information**: Version, uptime, temperature, disk usage, and service status
- **Database Statistics**: Real-time metrics, record counts, and health monitoring (moved from Data page)
- **Database Maintenance**: Cleanup, optimization, and backup tools (moved from Data page)
- **PVS6 Diagnostics**: Signal strength, connection status, and recovery tools
- **System Management**: Service control, WiFi management, and recovery wizard
- **Organized Layout**: Card-based design with structured sections

### 🔐 **Secure Configuration Management**
- **Environment Variables**: Secure .env file for sensitive data (serial numbers, passwords)
- **Automatic Setup**: Secure file permissions and configuration management
- **Credential Protection**: No hardcoded passwords or serial numbers in code
- **Reboot Persistence**: Configuration survives system restarts

## 🛒 **Hardware Requirements**

### **Recommended Setup - $85**
- **[Raspberry Pi 4 (4GB)](https://www.amazon.com/dp/B08B6F1FV5)** - $55
- **[64GB MicroSD Card](https://www.amazon.com/dp/B08GY9NYRM)** - $12
- **[USB-C Power Supply](https://www.amazon.com/dp/B08523QCT6)** - $12
- **[Ethernet Cable (25ft)](https://www.amazon.com/dp/B007NZHQDY)** - $8

### **Network Configuration**
- **PVS6 WiFi Connection**: SunPower12345 hotspot (172.27.152.1)
- **Home Network Access**: Ethernet connection for remote monitoring
- **Dual Network Setup**: WiFi to PVS6, Ethernet to home network

## 💰 **Cost Comparison vs SunPower**

| Feature | SunPower | Your System | Annual Savings |
|---------|-----------|-------------|----------------|
| **Basic Monitoring** | $10/month ($100/year) | **FREE** | **$100-120/year** |
| **Data Ownership** | ❌ No | **✅ Complete** | **Priceless** |
| **Offline Access** | ❌ No | **✅ Yes** | **Reliability** |
| **Custom Features** | ❌ Limited | **✅ Unlimited** | **Flexibility** |

**Total Savings: $100-120+ per year plus complete data control!**

## 🚀 **Quick Start - One Command Installation**

### **Step 1: Prepare Raspberry Pi (10 minutes)**
1. **Flash SD Card**: Use Raspberry Pi Imager with Raspberry Pi OS Lite
2. **Enable SSH**: Set username `barry` and password during imaging
3. **Boot & Connect**: Connect Pi to your network via Ethernet
4. **Find IP**: Check your router or use `nmap -sn 192.168.1.0/24`

### **Step 2: Install Solar Monitor (5 minutes)**
SSH to your Pi and run:

```bash
# Download and install
wget -O install.sh https://raw.githubusercontent.com/your-repo/solar-monitor/main/install.sh
chmod +x install.sh
./install.sh
```

**This automatically:**
- ✅ Installs all dependencies (Python, Flask, Chart.js)
- ✅ Configures PVS6 connection and environment variables
- ✅ Sets up professional dashboard with all 5 pages
- ✅ Starts monitoring services with auto-restart
- ✅ Begins data collection every 60 seconds

### **Step 3: Configure Credentials (2 minutes)**
```bash
# Edit configuration file with your PVS6 details
sudo nano /opt/solar_monitor/.env

# Update these values:
PVS6_SERIAL_NUMBER=YOUR_PVS6_SERIAL_HERE
PVS6_WIFI_PASSWORD=YOUR_WIFI_PASSWORD_HERE
```

### **Step 4: Access Your Dashboard (1 minute)**
Open browser: `http://YOUR_PI_IP:5000/`

## 🎉 **What You Get**

### **📊 Overview Page**
- **Real-Time Tiles**: Production, consumption, grid status, device count
- **Performance Summary**: Total production, consumption, net export with time period selector
- **Peak Performance**: Production, consumption, and export peaks with timestamps
- **Daily Averages**: Comprehensive statistics for selected time period

### **⚡ Inverters & Panels Page**
- **Summary Dashboard**: Total inverters, online count, total power, average efficiency
- **Individual Inverter Cards**: Status, power output, efficiency, temperature for all 18 inverters
- **Auto-Loading**: Inverters load automatically on page access
- **Quick Actions**: Export data, diagnostics, auto-refresh toggle

### **📈 Analytics Page**
- **Interactive Charts**: Line, area, and bar charts with Chart.js
- **Time Periods**: Last hour, 4 hours, 24 hours, 7 days, 30 days
- **Import/Export Analysis**: Charts show negative values for grid import
- **Summary Statistics**: Production, consumption, and grid interaction metrics

### **💾 Data Page**
- **SQL Query Interface**: Full SQL editor with syntax highlighting
- **Database Statistics**: Real-time metrics and health monitoring
- **Table Browser**: Browse all tables with filtering and sorting
- **Data Export**: One-click CSV and JSON downloads
- **Pre-Built Templates**: Common queries for analysis

### **⚙️ System Page**
- **PVS6 Diagnostics**: Signal strength, connection status, recovery tools
- **System Information**: Temperature, disk usage, uptime, service status
- **Database Maintenance**: Cleanup, optimization, and backup tools
- **Professional Layout**: Card-based design with real-time updates

## 🛠️ **Troubleshooting**

### **Service Issues**
```bash
# Check service status
sudo systemctl status solar-monitor.service solar-data-collector.service

# View logs
sudo journalctl -u solar-monitor.service -f

# Restart services
sudo systemctl restart solar-monitor.service solar-data-collector.service
```

### **PVS6 Connection Issues**
```bash
# Check WiFi connection
iwconfig
ping 172.27.152.1

# Test PVS6 API
curl "http://172.27.152.1/cgi-bin/dl_cgi?Command=DeviceList"

# Reset WiFi connection
sudo nmcli connection down PVS6-WiFi
sudo nmcli connection up PVS6-WiFi
```

### **Dashboard Issues**
```bash
# Test local connection
curl http://localhost:5000/api/current_status

# Check database
ls -la /opt/solar_monitor/solar_data.db

# Verify configuration
cat /opt/solar_monitor/.env
```

## 📚 **Complete Documentation**

### **🚀 Getting Started**
- **[QUICKSTART.md](QUICKSTART.md)** - Quick installation guide
- **[RASPBERRY_PI_SETUP.md](RASPBERRY_PI_SETUP.md)** - Detailed Pi setup
- **[docs/guides/BEGINNER_GUIDE.md](docs/guides/BEGINNER_GUIDE.md)** - Non-technical user guide
- **[docs/guides/FAQ.md](docs/guides/FAQ.md)** - Frequently asked questions

### **🔧 Hardware & Network**
- **[docs/hardware/HARDWARE_CHECKLIST.md](docs/hardware/HARDWARE_CHECKLIST.md)** - Shopping list
- **[docs/guides/NETWORK_SETUP.md](docs/guides/NETWORK_SETUP.md)** - Network configuration
- **[docs/hardware/PVS6_TROUBLESHOOTING.md](docs/hardware/PVS6_TROUBLESHOOTING.md)** - PVS6 connection help

### **🔗 Integrations**
- **[docs/HOME_ASSISTANT_INTEGRATION.md](docs/HOME_ASSISTANT_INTEGRATION.md)** - Home Assistant setup
- **[docs/GRAFANA_INTEGRATION.md](docs/GRAFANA_INTEGRATION.md)** - Professional monitoring
- **[docs/COMMUNITY_INTEGRATION.md](docs/COMMUNITY_INTEGRATION.md)** - Community projects

## 🎯 **Expected Results**

### **📊 System Performance**
- **Device Detection**: 21 devices (1 PVS6 + 2 meters + 18 inverters)
- **Real-Time Data**: 4.5-7.7 kW production during peak sunlight
- **Auto-Updates**: Dashboard refreshes every 30 seconds
- **Response Time**: <200ms for all pages
- **Offline Operation**: Works 24/7 without internet

### **⚡ Inverter Monitoring**
- **All 18 Inverters Online**: Individual power output 250-430W each
- **Real-Time Efficiency**: 92-96% typical efficiency per inverter
- **Temperature Monitoring**: Individual inverter temperature tracking
- **Status Indicators**: Online/offline status for each inverter

### **📈 Data Collection**
- **Collection Interval**: Every 60 seconds
- **Database Growth**: ~60 records per hour
- **Historical Storage**: SQLite with automatic optimization
- **Data Export**: CSV/JSON for external analysis

## 🤝 **Community & Credits**

This project builds upon excellent work by:
- **[Scott Gruby](https://blog.gruby.com/2020/04/28/monitoring-a-sunpower-solar-system/)** - Original PVS6 API research
- **[Nelson Minar](https://nelsonslog.wordpress.com/2021/12/02/getting-local-access-to-sunpower-pvs6-data/)** - PVS6 documentation
- **[Gino Ledesma](https://github.com/ginoledesma/sunpower-pvs-exporter)** - Prometheus integration
- **[Community Contributors](docs/legal/ACKNOWLEDGMENTS.md)** - Various implementations

## ⚠️ **Important Disclaimer**

### **What This Is**
- **Community-developed** solution based on proven methods
- **Production-ready** monitoring system with professional features
- **Cost-effective alternative** to paid cloud services
- **Complete data ownership** with offline operation

### **What This Isn't**
- **Official SunPower software** (this is independent)
- **Warranty-voiding modification** (read-only monitoring only)
- **Internet-dependent service** (works completely offline)

### **Use Responsibly**
- **Test thoroughly** before relying on it for critical monitoring
- **Follow safety guidelines** when working with electrical equipment
- **Backup your data** regularly using built-in tools
- **Share your experience** to help the community improve

## 🏆 **System Specifications**

### **Software Stack**
- **Backend**: Python 3.7+ with Flask framework
- **Frontend**: HTML5/CSS3 with Chart.js for analytics
- **Database**: SQLite with automatic optimization
- **Services**: Systemd for reliable operation

### **Network Requirements**
- **PVS6 Connection**: WiFi to SunPower12345 hotspot
- **Home Network**: Ethernet for remote access
- **API Access**: Direct connection to PVS6 at 172.27.152.1

### **Performance Metrics**
- **Memory Usage**: <100MB typical
- **CPU Usage**: <5% during normal operation
- **Disk Space**: <1GB including database
- **Network Traffic**: Minimal (local connections only)

---

## 👨‍💻 **Author & Credits**

**Barry Solomon**  
Email: barry@testingalchemy.com  

### **Acknowledgments**
- **Brett Durrett** for SunPower PVS6 WiFi credential research
- **SunPower Corporation** for creating the PVS6 gateway (trademark of SunPower Corp)
- **Open Source Community** for the excellent libraries and tools used

### **License**
This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

### **Disclaimer**
This software is not affiliated with or endorsed by SunPower Corporation. SunPower is a trademark of SunPower Corporation. This is an independent monitoring solution for educational and personal use only.

---

Ready to take control of your solar data? Get started with the one-command installation above.

**Current Version**: v1.0.0 Production Release  
**Last Updated**: September 25, 2025  
**System Status**: 🟢 Production Ready